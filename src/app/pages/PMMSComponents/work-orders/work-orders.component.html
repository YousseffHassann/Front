<h1>Work Order</h1>

<div class="form-row">
  <div class="form-group col-md-6">
    <label>Contractors</label>
    <ng-multiselect-dropdown [placeholder]="'Contractors'" [settings]="contractorsdropdownSettings" [data]="contractorsdropdownList"
      [(ngModel)]="contractorsselectedItems"  (onSelect)="onContractorSelection($event)" (onDeSelect)="onContractorDeSelection($event)" ></ng-multiselect-dropdown>
  </div>

  <div class="form-group col-md-6">
    <label>Contracts</label>
    <ng-multiselect-dropdown [placeholder]="'Contracts'" [settings]="contractsdropdownSettings" [data]="contractsdropdownList"
      [(ngModel)]="contractsselectedItems"  (onSelect)="onContractSelection($event)"></ng-multiselect-dropdown>
  </div>
</div>


<div class="form-row">
  <div class="form-group col-md-6">
    <label>Area</label>
    <ng-multiselect-dropdown [placeholder]="'Area'" [settings]="regionsdropdownSettings" [data]="regionsdropdownList"
      [(ngModel)]="regionsselectedItems" (onSelect)="onRegionSelect($event)"  (onDeSelect)="onRegionDeSelect($event)"></ng-multiselect-dropdown>
  </div>


  <div class="form-group col-md-6" >
    <label>Streets</label>
    <ng-multiselect-dropdown [placeholder]="'Streets'" [settings]="streetsdropdownSettings" [data]="streetsdropdownList"
      [(ngModel)]="streetsselectedItems" (onSelect)="onStreetSelect($event)" (onDeSelect)="onStreetDeSelect($event)"></ng-multiselect-dropdown>
  </div>
</div>

<div class="form-row">
  <div class="form-group col-md-6">
    <label>Start Date</label>
    <input type="date" class="form-control" min={{contractStartDate}} max="{{contractEndDate}}"  [(ngModel)]="wordOrderObject.FROM_DATE" required>
  </div>
  <div class="form-group col-md-6">
    <label>End Date</label>
    <input type="date" class="form-control" min="{{contractStartDate}}" max="{{contractEndDate}}"  [(ngModel)]="wordOrderObject.TO_DATE" required>
  </div>
</div>



<div class="row">
  <div class="col-12">
    <nb-card size="large">
      <nb-tabset fullWidth>
        <nb-tab tabTitle="Sample MD">
          <nb-card>
            <nb-card-body>
              <ng2-smart-table [settings]="settingsTab1" [source]="sourceTab1">
              </ng2-smart-table>
            </nb-card-body>
          </nb-card>
        </nb-tab>

        <nb-tab tabTitle="Lanes MD">
          <nb-card>
            <nb-card-body>
              <ng2-smart-table [settings]="settingsTab2" [source]="sourceTab2">
              </ng2-smart-table>
            </nb-card-body>
          </nb-card>
        </nb-tab>

        <nb-tab tabTitle="Sections MD">
          <nb-card>
            <nb-card-body>
              <ng2-smart-table [settings]="settingsTab3" [source]="sourceTab3">
              </ng2-smart-table>
            </nb-card-body>
          </nb-card>
        </nb-tab>

        <nb-tab tabTitle="Sections">
          <nb-card>
            <nb-card-body>
              <ng2-smart-table [settings]="settingsTab4" [source]="sourceTab4" (userRowSelect)="onSectionSelection($event)" (rowDeselect)="onSectionDeSelection($event)">
              </ng2-smart-table>
            </nb-card-body>
          </nb-card>
        </nb-tab>

      </nb-tabset>
    </nb-card>
  </div>
</div>


<div class="sub-button">
  <div class="m-auto d-flex justify-content-center w-25">
    <button
      type="submit"
      class="btn btn-primary text-center"
      (click)="addWorkOrder()"
    >
      ADD WorkOrder
    </button>
  </div>
</div>


<br>
<br>

<div class="sub-button">
  <div class="m-auto d-flex justify-content-center w-25">
    <button
      type="submit"
      class="btn btn-primary text-center"
      (click)="showReport()"
    >
      Show Report
    </button>
  </div>
</div>


<div *ngIf="showReportFlag" class="col-lg-12">
  <nb-card status="">
    <nb-card-header>WorkOrder Report </nb-card-header>
    <nb-card-body>
      <div class="row">
        <iframe [src]="reportLink" width="1500" height="1000" frameborder="0" webkitallowfullscreen mozallowfullscreen
          allowfullscreen></iframe>
      </div>

    </nb-card-body>
  </nb-card>
</div>
