<div class="row">
    <div class="col-md-12 text-center">
      <h1 class="t1">Streets Report</h1>
  
    </div>
  </div>

  <ngx-refresh></ngx-refresh>
  <div class="row">
    <div class="col-lg-12">
      <nb-card status="defult">
        <nb-card-header class="text-center"> </nb-card-header>
  
  
  
   
        
              <form [formGroup]="form" id="my-form" (ngSubmit)="submitForm()">
                <div class="row ">
                  <div class="col-md-2 my-3 mx-5 align-items-center d-flex ">
                    <label class="v">{{'Reports.SURVEY_NO' |translate}}</label>
  
  
                  </div>
                  <div class="col-md-8 mt-3 mb-3  ">
                    <div class="">
  
                      <ng-multiselect-dropdown formControlName="SN" [placeholder]="'Select'"
                        [settings]="SurveyDropdownSettings" [data]="surveys" (onDeSelect)="onDeSelectSurvey($event)"
                        [(ngModel)]="SurveySelectedItems" (onSelect)="Surveys($event)"></ng-multiselect-dropdown>
                      <div *ngIf="form.get('SN')?.errors && form.get('SN')?.touched " class="alert  mydecorate">
                        <p class="alert alert-info text-danger text-center" *ngIf="form.get('SN')?.errors?.['required']">
                          Please Select a Survey No </p>
                      </div>
  
                    </div>
                  </div>
                </div>
  
  
                <div class="row ">
                  <div class="col-md-2 my-3 mx-5 align-items-center d-flex ">
                    <label class="v">Area</label>
  
  
                  </div>
                  <div class="col-md-8 mt-3 mb-3">
                    <div class="">
  
                      <ng-multiselect-dropdown formControlName="AreaNo" [placeholder]="'Select'"
                        [settings]="dropdownSettings" [data]="regions" (onDeSelect)="onDeSelect($event)"
                        [(ngModel)]="selectedItems" (onSelect)="GetRegions($event)"></ng-multiselect-dropdown>
                     
  
                    </div>
                  </div>
                </div>
  
  
                <div class="row ">
                  <div class="col-md-2 my-3 mx-5 align-items-center d-flex ">
                    <label class="v">Road</label>
  
  
                  </div>
                  <div class="col-md-8 mt-3 mb-3  ">
                    <div class="">
  
                      <ng-multiselect-dropdown formControlName="StreetId" [placeholder]="'Select'"
                        [settings]="streetsDropdownSettings" [data]="streets" (onDeSelect)="onDeSelectStreet($event)"
                        [(ngModel)]="streetsSelectedItems" (onSelect)="streetsDDL($event)"></ng-multiselect-dropdown>
                    
                    </div>
                  </div>
                </div>
  
   
  
                <div class="d-flex mb-5 justify-content-center mt-3">
  
                  <button [disabled]="form.invalid" class="btn btn-info" type="submit">
                    {{'Reports.run_report' |translate}}</button>
                </div>
              </form>
    
  
        <div *ngIf="showReport" class="col-lg-12">
          <nb-card status="">
            <nb-card-header>Roads MD report</nb-card-header>
            <nb-card-body>
      
              <nb-tabset (changeTab)="selectTab($event)">
                <nb-tab tabTitle="Road MD">
                  <div class="row">
                    <iframe [src]="streetMDSafeSrc" width="1500" height="1000" frameborder="0" webkitallowfullscreen
                      mozallowfullscreen allowfullscreen></iframe>
      
                    <button class="btn btn-success btn-sm mb-5 mt-5  button1"
                      (click)="downloadSTREETMDReport()">Export to Excel</button>
      
                  </div>
                </nb-tab>
          
              </nb-tabset>
            </nb-card-body>
      
          </nb-card>
        </div>
      </nb-card>
  
    </div>
  
  
   
  </div>